"use strict";var angularAppApp=angular.module("angularAppApp",["ngRoute"]);angularAppApp.config(["$routeProvider",function(a){a.when("/",{controller:"MainCtrl",templateUrl:"views/main.html"}).when("/cat/:cat",{controller:"MainCtrl",templateUrl:"views/main.html"}).when("/news/:cat/:newsid",{controller:"NewsCtrl",templateUrl:"views/news.html"}).otherwise({redirectTo:"/"})}]),angular.module("angularAppApp").controller("MainCtrl",["$scope","TOI","$sce",function(a,b,c){a.start=0,a.next=0,a.pre=0,a.current=0,a.perPage=3,a.total=0,a.last=0,a.paging=[],a.filterNews=[],a.newsStatus=0,a.category={},b._getCategoryDetails().then(function(b){a.category=b.data.Item}),a.setval="",a.update=function(){a.newsStatus=0;var d=$("#cat_val").val();a.news=[],a.paging=[],b._getNews(d).then(function(b){angular.forEach(b.data.NewsItem,function(a){this.push({title:a.HeadLine,description:c.trustAsHtml(a.Story.substring(0,100)+'...<a href="#/news/'+d+"/"+a.NewsItemId+'" >see more</a>')})},a.news),a.filterNews=a.news.slice(0,a.perPage),a.total=Math.floor(a.news.length/a.perPage);for(var e=0;e<=a.total;e++)a.paging.push(e);a.newsStatus=1,a.last=a.total})},a.changePage=function(b){a.current=b,a.next=b+1,a.pre=b;var c=a.perPage*b;a.filterNews=a.news.slice(c,a.perPage+c)}}]),angular.module("angularAppApp").controller("NewsCtrl",["$scope","TOI","$sce","$routeParams",function(a,b,c,d){a.title="",a.description="",b._getNews(d.cat).then(function(b){var e=b.data.NewsItem.filter(function(a){return a.NewsItemId===d.newsid});angular.forEach(e,function(b){a.title=b.HeadLine,a.description=c.trustAsHtml(b.Story)})}),a.gohome=function(){window.location.assign("#/")}}]),angular.module("angularAppApp").factory("TOI",["$http","$q",function(a,b){var c=function(){var c=b.defer();return a.get("/response.json").then(function(a){c.resolve(a)}),c.promise},d=function(c){var d=b.defer();return a.get("news/"+c+".json").then(function(a){d.resolve(a)}),d.promise};return{_getCategoryDetails:c,_getNews:d}}]);